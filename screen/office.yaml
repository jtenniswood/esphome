substitutions:
  SCREEN_MAIN: master

  # Button Grid
  box1: 8, 8
  box2: 126, 8
  box3: 244, 8
  box4: 362, 8
  box5: 8, 112
  box6: 126, 112
  box7: 244, 112
  box8: 362, 112
  box9: 8, 216
  box10: 126, 216
  box11: 244, 216
  box12: 362, 216


ha_deck:
  screens:
    - name: ${SCREEN_MAIN}
      widgets:

        # Time
        - type: value-card
          id: local_time
          position: ${box1}
          dimensions: 228x96
          visible: |-
            return true;
            
        # Storage Light
        - type: button
          position: ${box5}
          text: Storage
          icon: 󰝩
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_storage).state;
          on_turn_on:
            - homeassistant.service:
                service: light.turn_on
                data:
                  entity_id: light.office_storage
          on_turn_off:
            - homeassistant.service:
                service: light.turn_off
                data:
                  entity_id: light.office_storage

        # Printer Power
        - type: button
          position: ${box7}
          text: Printer
          icon: 󰐫
          toggle: true
          enabled: return true;
          checked: |-
            return id(printer_power).state;
          on_turn_on:
            - homeassistant.service:
                service: switch.turn_on
                data:
                  entity_id: switch.office_3d_printer_power
          on_turn_off:
            - homeassistant.service:
                service: switch.turn_off
                data:
                  entity_id: switch.office_3d_printer_power

        # Office Aircon
        - type: button
          position: ${box8}
          text: Aircon
          icon: 󰈐
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_air_condition).state;
          on_turn_on:
            - homeassistant.service:
                service: climate.set_hvac_mode
                data:
                  entity_id: climate.office_air_conditioner
                  hvac_mode: "auto"
          on_turn_off:
            - homeassistant.service:
                service: climate.set_hvac_mode
                data:
                  entity_id: climate.office_air_conditioner
                  hvac_mode: "off"

        # Office Blind
        - type: button
          position: 362, 216
          text: Blind
          icon: 󰂬
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_blind).state;
          on_turn_on:
            - homeassistant.service:
                service: cover.set_cover_position
                data:
                  entity_id: cover.office_blind
                  position: '20'
          on_turn_off:
            - homeassistant.service:
                service: cover.set_cover_position
                data:
                  entity_id: cover.office_blind
                  position: '100'

        # Outdoor Temperature
        - type: value-card
          id: outdoor_temperature
          position: 126, 112
          text: Outside
          icon: 󰔏
          unit: °C
          enabled: return true;
          value: |-
            char buff[10] = "-";
            sprintf(buff, "%.1f", id(outdoor_temperature_sensor).state);
            return std::string(buff);

        # Feature Lighting
        - type: button
          position: 8, 216
          text: Feature
          icon: 󱁑
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_feature_lights).state;
          on_turn_on:
            - homeassistant.service:
                service: light.turn_on
                data:
                  entity_id: light.office_feature_lights
          on_turn_off:
            - homeassistant.service:
                service: light.turn_off
                data:
                  entity_id: light.office_feature_lights
