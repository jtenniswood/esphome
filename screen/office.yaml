ha_deck:
  screens:
    - name: ${SCREEN_MAIN}
      widgets:

        # Time
        - type: value-card
          id: local_time
          position: ${box1}
          dimensions: 228x96
          visible: |-
            return true;

            
        # Storage Light
        - type: button
          position: ${box5}
          text: Storage
          icon: 󰝩
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_storage).state;
          on_turn_on:
            - homeassistant.service:
                service: light.turn_on
                data:
                  entity_id: light.office_storage
          on_turn_off:
            - homeassistant.service:
                service: light.turn_off
                data:
                  entity_id: light.office_storage


        # Outdoor Temperature
        - type: value-card
          id: outdoor_temperature
          position: ${box6}
          text: Outside
          icon: 󰔏
          unit: °C
          enabled: return true;
          value: |-
            char buff[10] = "-";
            sprintf(buff, "%.1f", id(outdoor_temperature_sensor).state);
            return std::string(buff);


        # Printer Power
        - type: button
          position: ${box7}
          text: Printer
          icon: 󰐫
          toggle: true
          enabled: return true;
          checked: |-
            return id(printer_power).state;
          on_turn_on:
            - homeassistant.service:
                service: switch.turn_on
                data:
                  entity_id: switch.office_3d_printer_power
          on_turn_off:
            - homeassistant.service:
                service: switch.turn_off
                data:
                  entity_id: switch.office_3d_printer_power


        # Office Aircon
        - type: button
          position: ${box8}
          text: Aircon
          icon: 󰈐
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_air_condition).state;
          on_turn_on:
            - homeassistant.service:
                service: climate.set_hvac_mode
                data:
                  entity_id: climate.office_air_conditioner
                  hvac_mode: "auto"
          on_turn_off:
            - homeassistant.service:
                service: climate.set_hvac_mode
                data:
                  entity_id: climate.office_air_conditioner
                  hvac_mode: "off"


        # Feature Lighting
        - type: button
          position: ${box9}
          text: Feature
          icon: 󱁑
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_feature_lights).state;
          on_turn_on:
            - homeassistant.service:
                service: light.turn_on
                data:
                  entity_id: light.office_feature_lights
          on_turn_off:
            - homeassistant.service:
                service: light.turn_off
                data:
                  entity_id: light.office_feature_lights


        # Office Blind
        - type: button
          position: ${box10}
          text: Blind
          icon: 󰂬
          toggle: true
          enabled: return true;
          checked: |-
            return id(office_blind).state;
          on_turn_on:
            - homeassistant.service:
                service: cover.set_cover_position
                data:
                  entity_id: cover.office_blind
                  position: '20'
          on_turn_off:
            - homeassistant.service:
                service: cover.set_cover_position
                data:
                  entity_id: cover.office_blind
                  position: '100'
